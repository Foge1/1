# ADR-0008: DI strategy (variant bindings, один биндинг на интерфейс)

## Status
Accepted

## Context
В проекте используются Hilt-модули и variant source sets (например, debug-реализации). Без формального правила можно получить конфликтующие привязки одного интерфейса или неявные переопределения, которые проявляются только в отдельных build variants.

## Decision
1. Для каждого build variant на каждый DI-интерфейс должен существовать ровно один активный binding.
2. Variant-specific реализации (debug/release) задаются через соответствующие source sets и отдельные Hilt-модули/классы, сохраняя тот же интерфейс.
3. Межфичевые binding’и делать только на API-контракты, не на чужие data-реализации.
4. При добавлении новой реализации обязательно проверять граф DI для всех поддерживаемых variants.

## Consequences
- Предсказуемый DI-граф в debug и release.
- Снижается риск дублирующих/конфликтующих binding’ов.
- Требуется дисциплина при расширении DI-модулей и review правил на уровне архитектуры.
